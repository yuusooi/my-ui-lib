<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Closest Demo</title>
    <style>
        li { cursor: pointer; padding: 10px; border-bottom: 1px dashed #ccc; }
        span { background: yellow; } /* æ ‡å‡º span æ–¹ä¾¿æµ‹è¯• */
    </style>
</head>
<body>
    <ul id="list">
        <li><span>å†™ä»£ç  (ç‚¹é»„åº•è‰²)</span></li>
        <li>å†™ä»£ç  (ç‚¹ç™½åº•è‰²)</li> <li><span>èƒŒå…«è‚¡</span></li>
    </ul>

    <script>
        const ul = document.querySelector('#list');

        ul.addEventListener('click', function(e) {
            // 1. å°è¯•å‘ä¸Šå¯»æ‰¾æœ€è¿‘çš„ li æ ‡ç­¾
            // å¦‚æœç‚¹å‡»çš„æ˜¯ spanï¼Œå®ƒä¼šæ‰¾åˆ°çˆ¶çº§ li
            // å¦‚æœç‚¹å‡»çš„æ˜¯ li è‡ªèº«ï¼Œå®ƒä¼šæ‰¾åˆ°è‡ªå·±
            // å¦‚æœç‚¹å‡»çš„æ˜¯ ul ç©ºç™½å¤„ï¼ˆæ²¡ç‚¹åˆ° liï¼‰ï¼Œå®ƒä¼šè¿”å› null (æˆ–è€…æ˜¯ ul ä¸Šé¢çš„ liï¼Œå¦‚æœåµŒå¥—çš„è¯)
            const li = e.target.closest('li');

            // 2. å®‰å…¨æ£€æŸ¥ï¼š
            // A. li å¿…é¡»å­˜åœ¨ (ä¸æ˜¯ null)
            // B. è¿™ä¸ª li å¿…é¡»æ˜¯åœ¨æˆ‘ä»¬ç»‘å®šçš„ ul é‡Œé¢çš„ (é˜²æ­¢ closest æ‰¾åˆ°äº† ul å¤–é¢çš„ li)
            if (li && ul.contains(li)) {
                console.log('æˆåŠŸè·å–:', li.textContent);
                
                // æ¼”ç¤ºï¼šæ”¹å˜èƒŒæ™¯è‰²
                li.style.backgroundColor = '#eee';
            }
        });
    </script>
</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Closest Demo</title>
    <style>
        li {
            cursor: pointer;
            padding: 10px;
            border-bottom: 1px dashed #ccc;
        }

        span {
            background: yellow;
        }

        /* æ ‡å‡º span æ–¹ä¾¿æµ‹è¯• */
    </style>
</head>

<body>
    <ul id="list">
        <li><span>å†™ä»£ç  (ç‚¹é»„åº•è‰²)</span></li>
        <li>å†™ä»£ç  (ç‚¹ç™½åº•è‰²)</li>
        <li><span>èƒŒå…«è‚¡</span></li>
    </ul>

    <script>
        const ul = document.querySelector('#list');

        ul.addEventListener('click', function (e) {
            // 1. å°è¯•å‘ä¸Šå¯»æ‰¾æœ€è¿‘çš„ li æ ‡ç­¾
            // å¦‚æœç‚¹å‡»çš„æ˜¯ spanï¼Œå®ƒä¼šæ‰¾åˆ°çˆ¶çº§ li
            // å¦‚æœç‚¹å‡»çš„æ˜¯ li è‡ªèº«ï¼Œå®ƒä¼šæ‰¾åˆ°è‡ªå·±
            // å¦‚æœç‚¹å‡»çš„æ˜¯ ul ç©ºç™½å¤„ï¼ˆæ²¡ç‚¹åˆ° liï¼‰ï¼Œå®ƒä¼šè¿”å› null (æˆ–è€…æ˜¯ ul ä¸Šé¢çš„ liï¼Œå¦‚æœåµŒå¥—çš„è¯)
            const li = e.target.closest('li');

            // 2. å®‰å…¨æ£€æŸ¥ï¼š
            // A. li å¿…é¡»å­˜åœ¨ (ä¸æ˜¯ null)
            // B. è¿™ä¸ª li å¿…é¡»æ˜¯åœ¨æˆ‘ä»¬ç»‘å®šçš„ ul é‡Œé¢çš„ (é˜²æ­¢ closest æ‰¾åˆ°äº† ul å¤–é¢çš„ li)
            if (li && ul.contains(li)) {
                console.log('æˆåŠŸè·å–:', li.textContent);

                // æ¼”ç¤ºï¼šæ”¹å˜èƒŒæ™¯è‰²
                li.style.backgroundColor = '#eee';
            }
        });
    </script>
</body>

</html> -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Stop Propagation Demo</title>
    <style>
        ul {
            background-color: #f0f0f0;
            /* ç°è‰²èƒŒæ™¯ä»£è¡¨çˆ¶çº§åŒºåŸŸ */
            padding: 20px;
            cursor: pointer;
        }

        li {
            background-color: lightblue;
            /* è“è‰²èƒŒæ™¯ä»£è¡¨å­çº§ */
            padding: 10px;
            margin: 5px;
            list-style: none;
        }
    </style>
</head>

<body>

    <ul>
        <li>ç‚¹æˆ‘æµ‹è¯• stopPropagation</li>
    </ul>

    <script>
        const ul = document.querySelector('ul');
        const li = document.querySelector('li');

        // 1. çˆ¶çº§ UL çš„ç›‘å¬å™¨
        ul.addEventListener('click', function () {
            console.log('âŒ UL è¢«è§¦å‘äº† (å†’æ³¡åˆ°äº†è¿™é‡Œ)');
        });

        // 2. å­çº§ LI çš„ç›‘å¬å™¨
        li.addEventListener('click', function (e) {
            console.log('âœ… LI è¢«è§¦å‘äº†');

            // ğŸ›‘ æ ¸å¿ƒä»£ç ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡
            // å°±åƒå‘Šè¯‰æµè§ˆå™¨ï¼šâ€œè¿™ä»¶äº‹åˆ°æˆ‘è¿™é‡Œå¤„ç†å®Œå°±ç»“æŸäº†ï¼Œåˆ«å‘Šè¯‰ä¸Šçº§â€
            e.stopPropagation();
        });
    </script>
</body>

</html>